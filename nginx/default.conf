server {
    listen 80;
    #server_name은 들어왔을때 요청을 처리할 도메인을 지정하기 때문에 로컬에선 지정하면 제대로 작동 안함.
    #server_name noldaga.kr;
    location / {
        return 308 https://$host$request_uri;
    }
}

server {
    listen 443 ssl;

    ssl_certificate     /etc/nginx/conf.d/certificate.crt;
    ssl_certificate_key /etc/nginx/conf.d/private.key;

    access_log          /var/log/nginx/443_access.log;
    error_log           /var/log/nginx/443_error.log;

    location / {
        proxy_set_header Host $host;
        proxy_pass http://web:44444;
        proxy_redirect off;
    }
}
